{"ast":null,"code":"/**\r\n * Team Database Service\r\n * Handles saving, loading, updating, and deleting team compositions in Firestore\r\n */\n\nimport { collection, addDoc, updateDoc, deleteDoc, getDocs, doc, query, where, serverTimestamp } from 'firebase/firestore';\nimport { db } from '../config/firebase';\nconst TEAMS_COLLECTION = 'teams';\n\n/**\r\n * Save a new team composition\r\n * @param {string} userId - User's UID\r\n * @param {Object} teamData - Team data including pokemon, strategy, recommendations\r\n * @returns {Promise<Object>} - Saved team with ID\r\n */\nexport const saveTeam = async (userId, teamData) => {\n  try {\n    const teamRef = await addDoc(collection(db, TEAMS_COLLECTION), {\n      userId,\n      name: teamData.name || `Team ${new Date().toLocaleDateString()}`,\n      description: teamData.description || '',\n      pokemon: teamData.pokemon || [],\n      strategy: teamData.strategy || '',\n      recommendations: teamData.recommendations || null,\n      createdAt: serverTimestamp(),\n      updatedAt: serverTimestamp()\n    });\n    return {\n      id: teamRef.id,\n      ...teamData,\n      createdAt: new Date(),\n      updatedAt: new Date()\n    };\n  } catch (error) {\n    throw {\n      code: error.code,\n      message: 'Failed to save team'\n    };\n  }\n};\n\n/**\r\n * Get all teams for a user\r\n * @param {string} userId - User's UID\r\n * @returns {Promise<Array>} - Array of user's teams\r\n */\nexport const getUserTeams = async userId => {\n  try {\n    const q = query(collection(db, TEAMS_COLLECTION), where('userId', '==', userId));\n    const querySnapshot = await getDocs(q);\n    const teams = [];\n    querySnapshot.forEach(doc => {\n      var _doc$data$createdAt, _doc$data$updatedAt;\n      teams.push({\n        id: doc.id,\n        ...doc.data(),\n        createdAt: (_doc$data$createdAt = doc.data().createdAt) === null || _doc$data$createdAt === void 0 ? void 0 : _doc$data$createdAt.toDate(),\n        updatedAt: (_doc$data$updatedAt = doc.data().updatedAt) === null || _doc$data$updatedAt === void 0 ? void 0 : _doc$data$updatedAt.toDate()\n      });\n    });\n\n    // Sort by most recent first\n    return teams.sort((a, b) => (b.updatedAt || 0) - (a.updatedAt || 0));\n  } catch (error) {\n    throw {\n      code: error.code,\n      message: 'Failed to load teams'\n    };\n  }\n};\n\n/**\r\n * Update an existing team\r\n * @param {string} teamId - Team document ID\r\n * @param {Object} updates - Fields to update\r\n * @returns {Promise<void>}\r\n */\nexport const updateTeam = async (teamId, updates) => {\n  try {\n    const teamRef = doc(db, TEAMS_COLLECTION, teamId);\n    await updateDoc(teamRef, {\n      ...updates,\n      updatedAt: serverTimestamp()\n    });\n  } catch (error) {\n    throw {\n      code: error.code,\n      message: 'Failed to update team'\n    };\n  }\n};\n\n/**\r\n * Delete a team\r\n * @param {string} teamId - Team document ID\r\n * @returns {Promise<void>}\r\n */\nexport const deleteTeam = async teamId => {\n  try {\n    await deleteDoc(doc(db, TEAMS_COLLECTION, teamId));\n  } catch (error) {\n    throw {\n      code: error.code,\n      message: 'Failed to delete team'\n    };\n  }\n};\nexport default {\n  saveTeam,\n  getUserTeams,\n  updateTeam,\n  deleteTeam\n};","map":{"version":3,"names":["collection","addDoc","updateDoc","deleteDoc","getDocs","doc","query","where","serverTimestamp","db","TEAMS_COLLECTION","saveTeam","userId","teamData","teamRef","name","Date","toLocaleDateString","description","pokemon","strategy","recommendations","createdAt","updatedAt","id","error","code","message","getUserTeams","q","querySnapshot","teams","forEach","_doc$data$createdAt","_doc$data$updatedAt","push","data","toDate","sort","a","b","updateTeam","teamId","updates","deleteTeam"],"sources":["C:/Users/NATASHA NMW/Documents/CS 4680/pokemon-team-creator/client/src/services/teamService.js"],"sourcesContent":["/**\r\n * Team Database Service\r\n * Handles saving, loading, updating, and deleting team compositions in Firestore\r\n */\r\n\r\nimport {\r\n  collection,\r\n  addDoc,\r\n  updateDoc,\r\n  deleteDoc,\r\n  getDocs,\r\n  doc,\r\n  query,\r\n  where,\r\n  serverTimestamp\r\n} from 'firebase/firestore';\r\nimport { db } from '../config/firebase';\r\n\r\nconst TEAMS_COLLECTION = 'teams';\r\n\r\n/**\r\n * Save a new team composition\r\n * @param {string} userId - User's UID\r\n * @param {Object} teamData - Team data including pokemon, strategy, recommendations\r\n * @returns {Promise<Object>} - Saved team with ID\r\n */\r\nexport const saveTeam = async (userId, teamData) => {\r\n  try {\r\n    const teamRef = await addDoc(collection(db, TEAMS_COLLECTION), {\r\n      userId,\r\n      name: teamData.name || `Team ${new Date().toLocaleDateString()}`,\r\n      description: teamData.description || '',\r\n      pokemon: teamData.pokemon || [],\r\n      strategy: teamData.strategy || '',\r\n      recommendations: teamData.recommendations || null,\r\n      createdAt: serverTimestamp(),\r\n      updatedAt: serverTimestamp()\r\n    });\r\n\r\n    return {\r\n      id: teamRef.id,\r\n      ...teamData,\r\n      createdAt: new Date(),\r\n      updatedAt: new Date()\r\n    };\r\n  } catch (error) {\r\n    throw {\r\n      code: error.code,\r\n      message: 'Failed to save team'\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * Get all teams for a user\r\n * @param {string} userId - User's UID\r\n * @returns {Promise<Array>} - Array of user's teams\r\n */\r\nexport const getUserTeams = async (userId) => {\r\n  try {\r\n    const q = query(\r\n      collection(db, TEAMS_COLLECTION),\r\n      where('userId', '==', userId)\r\n    );\r\n\r\n    const querySnapshot = await getDocs(q);\r\n    const teams = [];\r\n\r\n    querySnapshot.forEach((doc) => {\r\n      teams.push({\r\n        id: doc.id,\r\n        ...doc.data(),\r\n        createdAt: doc.data().createdAt?.toDate(),\r\n        updatedAt: doc.data().updatedAt?.toDate()\r\n      });\r\n    });\r\n\r\n    // Sort by most recent first\r\n    return teams.sort((a, b) => (b.updatedAt || 0) - (a.updatedAt || 0));\r\n  } catch (error) {\r\n    throw {\r\n      code: error.code,\r\n      message: 'Failed to load teams'\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * Update an existing team\r\n * @param {string} teamId - Team document ID\r\n * @param {Object} updates - Fields to update\r\n * @returns {Promise<void>}\r\n */\r\nexport const updateTeam = async (teamId, updates) => {\r\n  try {\r\n    const teamRef = doc(db, TEAMS_COLLECTION, teamId);\r\n    await updateDoc(teamRef, {\r\n      ...updates,\r\n      updatedAt: serverTimestamp()\r\n    });\r\n  } catch (error) {\r\n    throw {\r\n      code: error.code,\r\n      message: 'Failed to update team'\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * Delete a team\r\n * @param {string} teamId - Team document ID\r\n * @returns {Promise<void>}\r\n */\r\nexport const deleteTeam = async (teamId) => {\r\n  try {\r\n    await deleteDoc(doc(db, TEAMS_COLLECTION, teamId));\r\n  } catch (error) {\r\n    throw {\r\n      code: error.code,\r\n      message: 'Failed to delete team'\r\n    };\r\n  }\r\n};\r\n\r\nexport default {\r\n  saveTeam,\r\n  getUserTeams,\r\n  updateTeam,\r\n  deleteTeam\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}