{"ast":null,"code":"/**\r\n * Authentication Service\r\n * Handles user signup, login, logout, and password reset using Firebase Auth\r\n */\n\nimport { createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, sendPasswordResetEmail, updateProfile, onAuthStateChanged } from 'firebase/auth';\nimport { auth } from '../config/firebase';\n\n/**\r\n * Sign up a new user with email and password\r\n * @param {string} email - User email\r\n * @param {string} password - User password (min 6 chars)\r\n * @param {string} displayName - User's display name\r\n * @returns {Promise<Object>} - User object\r\n */\nexport const signUp = async (email, password, displayName) => {\n  try {\n    // Create user account\n    const userCredential = await createUserWithEmailAndPassword(auth, email, password);\n    const user = userCredential.user;\n\n    // Set display name\n    await updateProfile(user, {\n      displayName\n    });\n    return {\n      uid: user.uid,\n      email: user.email,\n      displayName: user.displayName\n    };\n  } catch (error) {\n    throw {\n      code: error.code,\n      message: getAuthErrorMessage(error.code)\n    };\n  }\n};\n\n/**\r\n * Sign in user with email and password\r\n * @param {string} email - User email\r\n * @param {string} password - User password\r\n * @returns {Promise<Object>} - User object\r\n */\nexport const login = async (email, password) => {\n  try {\n    const userCredential = await signInWithEmailAndPassword(auth, email, password);\n    const user = userCredential.user;\n    return {\n      uid: user.uid,\n      email: user.email,\n      displayName: user.displayName\n    };\n  } catch (error) {\n    throw {\n      code: error.code,\n      message: getAuthErrorMessage(error.code)\n    };\n  }\n};\n\n/**\r\n * Sign out current user\r\n * @returns {Promise<void>}\r\n */\nexport const logout = async () => {\n  try {\n    await signOut(auth);\n  } catch (error) {\n    throw {\n      code: error.code,\n      message: 'Failed to logout'\n    };\n  }\n};\n\n/**\r\n * Send password reset email\r\n * @param {string} email - User email\r\n * @returns {Promise<void>}\r\n */\nexport const resetPassword = async email => {\n  try {\n    await sendPasswordResetEmail(auth, email);\n  } catch (error) {\n    throw {\n      code: error.code,\n      message: getAuthErrorMessage(error.code)\n    };\n  }\n};\n\n/**\r\n * Set up listener for auth state changes\r\n * @param {Function} callback - Function to call when auth state changes\r\n * @returns {Function} - Unsubscribe function\r\n */\nexport const onAuthChange = callback => {\n  return onAuthStateChanged(auth, user => {\n    if (user) {\n      callback({\n        uid: user.uid,\n        email: user.email,\n        displayName: user.displayName\n      });\n    } else {\n      callback(null);\n    }\n  });\n};\n\n/**\r\n * Get user-friendly error messages from Firebase error codes\r\n * @param {string} errorCode - Firebase error code\r\n * @returns {string} - User-friendly error message\r\n */\nconst getAuthErrorMessage = errorCode => {\n  const errorMessages = {\n    'auth/email-already-in-use': 'This email is already registered.',\n    'auth/invalid-email': 'Invalid email address.',\n    'auth/weak-password': 'Password should be at least 6 characters.',\n    'auth/user-not-found': 'No account found with this email.',\n    'auth/wrong-password': 'Incorrect password.',\n    'auth/too-many-requests': 'Too many login attempts. Please try again later.',\n    'auth/operation-not-allowed': 'Operation not allowed.',\n    'auth/invalid-credential': 'Invalid email or password.'\n  };\n  return errorMessages[errorCode] || 'An error occurred. Please try again.';\n};\nexport default {\n  signUp,\n  login,\n  logout,\n  resetPassword,\n  onAuthChange\n};","map":{"version":3,"names":["createUserWithEmailAndPassword","signInWithEmailAndPassword","signOut","sendPasswordResetEmail","updateProfile","onAuthStateChanged","auth","signUp","email","password","displayName","userCredential","user","uid","error","code","message","getAuthErrorMessage","login","logout","resetPassword","onAuthChange","callback","errorCode","errorMessages"],"sources":["C:/Users/NATASHA NMW/Documents/CS 4680/pokemon-team-creator/client/src/services/authService.js"],"sourcesContent":["/**\r\n * Authentication Service\r\n * Handles user signup, login, logout, and password reset using Firebase Auth\r\n */\r\n\r\nimport {\r\n  createUserWithEmailAndPassword,\r\n  signInWithEmailAndPassword,\r\n  signOut,\r\n  sendPasswordResetEmail,\r\n  updateProfile,\r\n  onAuthStateChanged\r\n} from 'firebase/auth';\r\nimport { auth } from '../config/firebase';\r\n\r\n/**\r\n * Sign up a new user with email and password\r\n * @param {string} email - User email\r\n * @param {string} password - User password (min 6 chars)\r\n * @param {string} displayName - User's display name\r\n * @returns {Promise<Object>} - User object\r\n */\r\nexport const signUp = async (email, password, displayName) => {\r\n  try {\r\n    // Create user account\r\n    const userCredential = await createUserWithEmailAndPassword(auth, email, password);\r\n    const user = userCredential.user;\r\n\r\n    // Set display name\r\n    await updateProfile(user, { displayName });\r\n\r\n    return {\r\n      uid: user.uid,\r\n      email: user.email,\r\n      displayName: user.displayName\r\n    };\r\n  } catch (error) {\r\n    throw {\r\n      code: error.code,\r\n      message: getAuthErrorMessage(error.code)\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * Sign in user with email and password\r\n * @param {string} email - User email\r\n * @param {string} password - User password\r\n * @returns {Promise<Object>} - User object\r\n */\r\nexport const login = async (email, password) => {\r\n  try {\r\n    const userCredential = await signInWithEmailAndPassword(auth, email, password);\r\n    const user = userCredential.user;\r\n\r\n    return {\r\n      uid: user.uid,\r\n      email: user.email,\r\n      displayName: user.displayName\r\n    };\r\n  } catch (error) {\r\n    throw {\r\n      code: error.code,\r\n      message: getAuthErrorMessage(error.code)\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * Sign out current user\r\n * @returns {Promise<void>}\r\n */\r\nexport const logout = async () => {\r\n  try {\r\n    await signOut(auth);\r\n  } catch (error) {\r\n    throw {\r\n      code: error.code,\r\n      message: 'Failed to logout'\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * Send password reset email\r\n * @param {string} email - User email\r\n * @returns {Promise<void>}\r\n */\r\nexport const resetPassword = async (email) => {\r\n  try {\r\n    await sendPasswordResetEmail(auth, email);\r\n  } catch (error) {\r\n    throw {\r\n      code: error.code,\r\n      message: getAuthErrorMessage(error.code)\r\n    };\r\n  }\r\n};\r\n\r\n/**\r\n * Set up listener for auth state changes\r\n * @param {Function} callback - Function to call when auth state changes\r\n * @returns {Function} - Unsubscribe function\r\n */\r\nexport const onAuthChange = (callback) => {\r\n  return onAuthStateChanged(auth, (user) => {\r\n    if (user) {\r\n      callback({\r\n        uid: user.uid,\r\n        email: user.email,\r\n        displayName: user.displayName\r\n      });\r\n    } else {\r\n      callback(null);\r\n    }\r\n  });\r\n};\r\n\r\n/**\r\n * Get user-friendly error messages from Firebase error codes\r\n * @param {string} errorCode - Firebase error code\r\n * @returns {string} - User-friendly error message\r\n */\r\nconst getAuthErrorMessage = (errorCode) => {\r\n  const errorMessages = {\r\n    'auth/email-already-in-use': 'This email is already registered.',\r\n    'auth/invalid-email': 'Invalid email address.',\r\n    'auth/weak-password': 'Password should be at least 6 characters.',\r\n    'auth/user-not-found': 'No account found with this email.',\r\n    'auth/wrong-password': 'Incorrect password.',\r\n    'auth/too-many-requests': 'Too many login attempts. Please try again later.',\r\n    'auth/operation-not-allowed': 'Operation not allowed.',\r\n    'auth/invalid-credential': 'Invalid email or password.'\r\n  };\r\n\r\n  return errorMessages[errorCode] || 'An error occurred. Please try again.';\r\n};\r\n\r\nexport default {\r\n  signUp,\r\n  login,\r\n  logout,\r\n  resetPassword,\r\n  onAuthChange\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}